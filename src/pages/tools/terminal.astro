---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ToolCard from '../../components/ToolCard.astro';
import { getAllTools } from '../../lib/data';

const allTools = getAllTools();

// ç»ˆç«¯å·¥å…·ï¼štype === 'cli' æˆ– ide_base åŒ…å« 'ç»ˆç«¯'
const tools = allTools.filter(tool => {
  const ideBase = ((tool as any).features?.ide_base || '').toLowerCase();
  return tool.type === 'cli' || ideBase.includes('ç»ˆç«¯') || ideBase.includes('tui') || ideBase.includes('cli');
}).sort((a, b) => (b.scores.coding_ability ?? 0) - (a.scores.coding_ability ?? 0));

const siteUrl = 'https://codepick.dev';

const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  name: 'ç»ˆç«¯ AI ç¼–ç¨‹å·¥å…·',
  description: 'åœ¨ç»ˆç«¯/å‘½ä»¤è¡Œè¿è¡Œçš„ AI ç¼–ç¨‹å·¥å…·ï¼Œé€‚åˆ Vim/Neovim ç”¨æˆ·å’Œåå¥½ç»ˆç«¯å·¥ä½œæµçš„å¼€å‘è€…',
  url: `${siteUrl}/tools/terminal`,
  numberOfItems: tools.length,
  itemListElement: tools.map((tool, i) => ({
    '@type': 'ListItem',
    position: i + 1,
    name: tool.name,
    url: `${siteUrl}/tool/${tool.id}`,
  })),
};

const breadcrumb = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, name: 'é¦–é¡µ', item: siteUrl },
    { '@type': 'ListItem', position: 2, name: 'å·¥å…·åº“', item: `${siteUrl}/tools` },
    { '@type': 'ListItem', position: 3, name: 'ç»ˆç«¯å·¥å…·', item: `${siteUrl}/tools/terminal` },
  ],
};
---

<BaseLayout
  title="ç»ˆç«¯ AI ç¼–ç¨‹å·¥å…· | CLI | CodePick"
  description={`${tools.length} æ¬¾ç»ˆç«¯/CLI AI ç¼–ç¨‹å·¥å…·ï¼šClaude Codeã€OpenCodeã€Aiderã€‚é€‚åˆ Vim ç”¨æˆ·ã€ç»ˆç«¯å…šï¼Œæ”¯æŒä»»æ„ç¼–è¾‘å™¨å·¥ä½œæµã€‚`}
  jsonLd={[jsonLd, breadcrumb]}
>
  <section class="container py-12">
    <!-- Breadcrumb -->
    <nav class="text-xs text-[var(--text-muted)] mb-6">
      <a href="/" class="hover:text-white no-underline">é¦–é¡µ</a>
      <span class="mx-1">/</span>
      <a href="/tools" class="hover:text-white no-underline">å·¥å…·åº“</a>
      <span class="mx-1">/</span>
      <span class="text-[var(--text-secondary)]">ç»ˆç«¯å·¥å…·</span>
    </nav>

    <h1 class="text-3xl font-bold text-white mb-3">âŒ¨ï¸ ç»ˆç«¯ AI ç¼–ç¨‹å·¥å…·</h1>
    <p class="text-[var(--text-secondary)] mb-4 max-w-2xl">
      åœ¨ç»ˆç«¯ä¸­è¿è¡Œçš„ AI ç¼–ç¨‹ CLI å·¥å…·ï¼Œä¸ä¾èµ–ç‰¹å®š IDEï¼Œé€‚åˆ Vim/Neovim ç”¨æˆ·ã€æœåŠ¡å™¨å¼€å‘å’Œåå¥½ç»ˆç«¯å·¥ä½œæµçš„å¼€å‘è€…ã€‚
      å…± {tools.length} æ¬¾ï¼ŒæŒ‰ç¼–ç¨‹èƒ½åŠ›æ’åºã€‚
    </p>

    <!-- Terminal tools explanation -->
    <div class="card p-4 mb-8 border-l-4 border-[var(--brand-400)]">
      <p class="text-sm text-[var(--text-secondary)] m-0">
        ğŸ’¡ <strong class="text-white">ç»ˆç«¯å·¥å…·çš„ä¼˜åŠ¿</strong>ï¼šä¸ç»‘å®šç‰¹å®š IDEï¼Œå¯åœ¨ä»»æ„ç¯å¢ƒï¼ˆSSH è¿œç¨‹ã€æœåŠ¡å™¨ã€Vimï¼‰ä¸­ä½¿ç”¨ï¼›
        å¤šæ•°æ”¯æŒè‡ªå®šä¹‰æ¨¡å‹ APIï¼Œçµæ´»æ€§æœ€é«˜ï¼›Aider çš„ Git é›†æˆæ˜¯æ‰€æœ‰å·¥å…·ä¸­æœ€å®Œå–„çš„ã€‚
      </p>
    </div>

    <!-- Category nav -->
    <div class="flex flex-wrap gap-2 mb-8">
      <a href="/tools" class="btn btn-ghost text-sm no-underline">å…¨éƒ¨</a>
      <a href="/tools/free" class="btn btn-ghost text-sm no-underline">ğŸ’° å…è´¹å·¥å…·</a>
      <a href="/tools/china" class="btn btn-ghost text-sm no-underline">ğŸ‡¨ğŸ‡³ å›½å†…å¯ç”¨</a>
      <a href="/tools/vscode" class="btn btn-ghost text-sm no-underline">ğŸ”µ VS Code ç”Ÿæ€</a>
      <span class="btn btn-primary text-sm cursor-default">âŒ¨ï¸ ç»ˆç«¯å·¥å…·</span>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      {tools.map(tool => <ToolCard tool={tool} />)}
    </div>

    <!-- Related content -->
    <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-4">
      <a href="/compare/terminal-ai-tools" class="card p-5 no-underline group block">
        <h3 class="text-sm font-semibold text-white group-hover:text-[var(--brand-400)] m-0 mb-1">ç»ˆç«¯ AI ä¸‰æ°å¯¹æ¯”</h3>
        <p class="text-xs text-[var(--text-muted)] m-0">å¯¹æ¯”ï¼šClaude Code vs OpenCode vs Aider â†’</p>
      </a>
      <a href="/guides/ollama-aider-local" class="card p-5 no-underline group block">
        <h3 class="text-sm font-semibold text-white group-hover:text-[var(--brand-400)] m-0 mb-1">Ollama + Aider æœ¬åœ°éƒ¨ç½²</h3>
        <p class="text-xs text-[var(--text-muted)] m-0">æŒ‡å—ï¼šç»ˆç«¯ + æœ¬åœ°æ¨¡å‹é›¶æˆæœ¬æ–¹æ¡ˆ â†’</p>
      </a>
    </div>
  </section>
</BaseLayout>

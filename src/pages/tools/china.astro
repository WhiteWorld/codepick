---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ToolCard from '../../components/ToolCard.astro';
import { getAllTools } from '../../lib/data';

const allTools = getAllTools();

// å›½å†…å¯ç”¨ï¼šchina_friendly è¯„åˆ† >= 7
const tools = allTools
  .filter(tool => (tool.scores.china_friendly ?? 0) >= 7)
  .sort((a, b) => (b.scores.china_friendly ?? 0) - (a.scores.china_friendly ?? 0));

const siteUrl = 'https://codepick.dev';

const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  name: 'å›½å†…å¯ç”¨ AI ç¼–ç¨‹å·¥å…·',
  description: 'æ— éœ€ç¿»å¢™æˆ–æœ‰å›½å†…æ›¿ä»£æ¥å…¥æ–¹å¼çš„ AI ç¼–ç¨‹å·¥å…·ï¼Œé€‚åˆå›½å†…å¼€å‘è€…ä½¿ç”¨',
  url: `${siteUrl}/tools/china`,
  numberOfItems: tools.length,
  itemListElement: tools.map((tool, i) => ({
    '@type': 'ListItem',
    position: i + 1,
    name: tool.name,
    url: `${siteUrl}/tool/${tool.id}`,
  })),
};

const breadcrumb = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, name: 'é¦–é¡µ', item: siteUrl },
    { '@type': 'ListItem', position: 2, name: 'å·¥å…·åº“', item: `${siteUrl}/tools` },
    { '@type': 'ListItem', position: 3, name: 'å›½å†…å¯ç”¨å·¥å…·', item: `${siteUrl}/tools/china` },
  ],
};
---

<BaseLayout
  title="å›½å†…å¯ç”¨ AI ç¼–ç¨‹å·¥å…· | æ— éœ€ç¿»å¢™ | CodePick"
  description={`${tools.length} æ¬¾åœ¨å›½å†…å¯ç›´æ¥ä½¿ç”¨çš„ AI ç¼–ç¨‹å·¥å…·ï¼šTraeã€Cline + ç«å±±æ–¹èˆŸã€Aiderã€OpenCodeï¼Œæ— éœ€ä»£ç†ï¼Œå›½å†…ç›´è¿ã€‚`}
  jsonLd={[jsonLd, breadcrumb]}
>
  <section class="container py-12">
    <!-- Breadcrumb -->
    <nav class="text-xs text-[var(--text-muted)] mb-6">
      <a href="/" class="hover:text-white no-underline">é¦–é¡µ</a>
      <span class="mx-1">/</span>
      <a href="/tools" class="hover:text-white no-underline">å·¥å…·åº“</a>
      <span class="mx-1">/</span>
      <span class="text-[var(--text-secondary)]">å›½å†…å¯ç”¨</span>
    </nav>

    <h1 class="text-3xl font-bold text-white mb-3">ğŸ‡¨ğŸ‡³ å›½å†…å¯ç”¨ AI ç¼–ç¨‹å·¥å…·</h1>
    <p class="text-[var(--text-secondary)] mb-4 max-w-2xl">
      å›½å†…ä½“éªŒè¯„åˆ† â‰¥ 7 çš„å·¥å…·ï¼Œæ”¯æŒå›½å†…ç›´è¿æˆ–æœ‰å¯ç”¨çš„å›½å†… API ä¸­è½¬æ–¹æ¡ˆã€‚
      å…± {tools.length} æ¬¾ï¼ŒæŒ‰å›½å†…ä½“éªŒè¯„åˆ†æ’åºã€‚
    </p>

    <!-- China access explanation -->
    <div class="card p-4 mb-8 border-l-4 border-green-500">
      <p class="text-sm text-[var(--text-secondary)] m-0">
        âœ… <strong class="text-white">å›½å†…å¯ç”¨æ–¹å¼</strong>ï¼š
        Trae å­—èŠ‚å‡ºå“ï¼Œå›½å†…ç›´è¿æ— éœ€ä»£ç†ï¼›
        Cline / OpenCode / Aider æ”¯æŒæ¥å…¥<a href="/guides/cline-ark-setup" class="text-[var(--brand-400)] no-underline hover:underline">ç«å±±æ–¹èˆŸ Coding Plan</a>ï¼ˆÂ¥9.9/æœˆï¼‰ï¼Œå›½å†…ç›´è¿ä½¿ç”¨ä¸»æµç¼–ç¨‹æ¨¡å‹ã€‚
      </p>
    </div>

    <!-- Category nav -->
    <div class="flex flex-wrap gap-2 mb-8">
      <a href="/tools" class="btn btn-ghost text-sm no-underline">å…¨éƒ¨</a>
      <a href="/tools/free" class="btn btn-ghost text-sm no-underline">ğŸ’° å…è´¹å·¥å…·</a>
      <span class="btn btn-primary text-sm cursor-default">ğŸ‡¨ğŸ‡³ å›½å†…å¯ç”¨</span>
      <a href="/tools/vscode" class="btn btn-ghost text-sm no-underline">ğŸ”µ VS Code ç”Ÿæ€</a>
      <a href="/tools/terminal" class="btn btn-ghost text-sm no-underline">âŒ¨ï¸ ç»ˆç«¯å·¥å…·</a>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      {tools.map(tool => <ToolCard tool={tool} />)}
    </div>

    <!-- Related content -->
    <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-4">
      <a href="/guides/cline-ark-setup" class="card p-5 no-underline group block">
        <h3 class="text-sm font-semibold text-white group-hover:text-[var(--brand-400)] m-0 mb-1">Cline + ç«å±±æ–¹èˆŸé…ç½®æŒ‡å—</h3>
        <p class="text-xs text-[var(--text-muted)] m-0">æŒ‡å—ï¼š10 åˆ†é’Ÿæå®šå›½å†… AI ç¼–ç¨‹ â†’</p>
      </a>
      <a href="/plan/cline-ark" class="card p-5 no-underline group block">
        <h3 class="text-sm font-semibold text-white group-hover:text-[var(--brand-400)] m-0 mb-1">Cline + æ–¹èˆŸæ–¹æ¡ˆè¯¦è§£</h3>
        <p class="text-xs text-[var(--text-muted)] m-0">æ–¹æ¡ˆï¼šå›½å†…æ€§ä»·æ¯”ä¹‹ç‹ Â¥9.9/æœˆ â†’</p>
      </a>
    </div>
  </section>
</BaseLayout>

---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ToolCard from '../../components/ToolCard.astro';
import { getAllTools } from '../../lib/data';

const allTools = getAllTools();

// å…è´¹å·¥å…·ï¼šæ’ä»¶/CLI æœ¬èº«å…è´¹ï¼ˆéœ€è‡ªå¤‡ APIï¼‰ï¼Œæˆ–æœ‰çœŸå®å…è´¹å¥—é¤
const tools = allTools.filter(tool => {
  const plans = (tool as any).pricing?.plans || [];
  return plans.some((p: any) => p.price === 0 || p.price === '0' || p.price === 'free');
}).sort((a, b) => (b.scores.cost_efficiency ?? 0) - (a.scores.cost_efficiency ?? 0));

const siteUrl = 'https://codepick.dev';

const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  name: 'å…è´¹ AI ç¼–ç¨‹å·¥å…·åˆé›†',
  description: 'æœ‰å…è´¹ç‰ˆæœ¬çš„ AI ç¼–ç¨‹å·¥å…·ï¼ŒåŒ…æ‹¬å®Œå…¨å…è´¹çš„æ’ä»¶å’Œæœ‰å…è´¹å¥—é¤çš„ä»˜è´¹å·¥å…·',
  url: `${siteUrl}/tools/free`,
  numberOfItems: tools.length,
  itemListElement: tools.map((tool, i) => ({
    '@type': 'ListItem',
    position: i + 1,
    name: tool.name,
    url: `${siteUrl}/tool/${tool.id}`,
  })),
};

const breadcrumb = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, name: 'é¦–é¡µ', item: siteUrl },
    { '@type': 'ListItem', position: 2, name: 'å·¥å…·åº“', item: `${siteUrl}/tools` },
    { '@type': 'ListItem', position: 3, name: 'å…è´¹å·¥å…·', item: `${siteUrl}/tools/free` },
  ],
};
---

<BaseLayout
  title="å…è´¹ AI ç¼–ç¨‹å·¥å…·åˆé›† | CodePick"
  description={`${tools.length} æ¬¾æœ‰å…è´¹ç‰ˆæœ¬çš„ AI ç¼–ç¨‹å·¥å…·æ±‡æ€»ï¼šClineã€Cursorã€Copilotã€Trae ç­‰ï¼ŒåŒ…å«å…è´¹é¢åº¦è¯´æ˜å’Œä½¿ç”¨é™åˆ¶ã€‚`}
  jsonLd={[jsonLd, breadcrumb]}
>
  <section class="container py-12">
    <!-- Breadcrumb -->
    <nav class="text-xs text-[var(--text-muted)] mb-6">
      <a href="/" class="hover:text-white no-underline">é¦–é¡µ</a>
      <span class="mx-1">/</span>
      <a href="/tools" class="hover:text-white no-underline">å·¥å…·åº“</a>
      <span class="mx-1">/</span>
      <span class="text-[var(--text-secondary)]">å…è´¹å·¥å…·</span>
    </nav>

    <h1 class="text-3xl font-bold text-white mb-3">ğŸ’° å…è´¹ AI ç¼–ç¨‹å·¥å…·</h1>
    <p class="text-[var(--text-secondary)] mb-4 max-w-2xl">
      ä»¥ä¸‹å·¥å…·å‡æœ‰å…è´¹ç‰ˆæœ¬å¯ç”¨â€”â€”åŒ…æ‹¬æ’ä»¶æœ¬èº«å…è´¹ï¼ˆéœ€è‡ªå¤‡ API Keyï¼‰ä»¥åŠæä¾›å…è´¹å¥—é¤çš„ä»˜è´¹å·¥å…·ã€‚
      å…± {tools.length} æ¬¾ï¼ŒæŒ‰æ€§ä»·æ¯”æ’åºã€‚
    </p>

    <!-- Free tier explanation -->
    <div class="card p-4 mb-8 border-l-4 border-[var(--brand-400)]">
      <p class="text-sm text-[var(--text-secondary)] m-0">
        ğŸ’¡ <strong class="text-white">ä¸¤ç§å…è´¹å½¢å¼</strong>ï¼š
        Clineã€Roo Codeã€Aiderã€OpenCode æ’ä»¶/CLI æœ¬èº«å®Œå…¨å…è´¹ï¼Œä½†éœ€è‡ªå¤‡ AI æ¨¡å‹ APIï¼ˆå¯ç”¨ Â¥9.9/æœˆçš„ç«å±±æ–¹èˆŸï¼‰ï¼›
        Cursorã€Copilotã€Trae æœ‰æœ‰é™é¢åº¦çš„å…è´¹å¥—é¤ã€‚
      </p>
    </div>

    <!-- Category nav -->
    <div class="flex flex-wrap gap-2 mb-8">
      <a href="/tools" class="btn btn-ghost text-sm no-underline">å…¨éƒ¨</a>
      <span class="btn btn-primary text-sm cursor-default">ğŸ’° å…è´¹å·¥å…·</span>
      <a href="/tools/china" class="btn btn-ghost text-sm no-underline">ğŸ‡¨ğŸ‡³ å›½å†…å¯ç”¨</a>
      <a href="/tools/vscode" class="btn btn-ghost text-sm no-underline">ğŸ”µ VS Code ç”Ÿæ€</a>
      <a href="/tools/terminal" class="btn btn-ghost text-sm no-underline">âŒ¨ï¸ ç»ˆç«¯å·¥å…·</a>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      {tools.map(tool => <ToolCard tool={tool} />)}
    </div>

    <!-- Related content -->
    <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-4">
      <a href="/faq" class="card p-5 no-underline group block">
        <h3 class="text-sm font-semibold text-white group-hover:text-[var(--brand-400)] m-0 mb-1">å¦‚ä½•ä¸èŠ±é’±ç”¨ AI ç¼–ç¨‹ï¼Ÿ</h3>
        <p class="text-xs text-[var(--text-muted)] m-0">FAQï¼šå…è´¹æ–¹æ¡ˆè¯¦ç»†è¯´æ˜ â†’</p>
      </a>
      <a href="/guides/ollama-aider-local" class="card p-5 no-underline group block">
        <h3 class="text-sm font-semibold text-white group-hover:text-[var(--brand-400)] m-0 mb-1">Ollama + Aider æœ¬åœ°éƒ¨ç½²</h3>
        <p class="text-xs text-[var(--text-muted)] m-0">æŒ‡å—ï¼šé›¶æˆæœ¬æœ¬åœ° AI ç¼–ç¨‹ â†’</p>
      </a>
    </div>
  </section>
</BaseLayout>

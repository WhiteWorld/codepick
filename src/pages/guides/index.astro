---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

const guides = (await getCollection('guides'))
  .filter(g => !g.data.draft)
  .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
---

<BaseLayout
  title="AI ç¼–ç¨‹å·¥å…·ä½¿ç”¨æŒ‡å— | CodePick"
  description="æ‰‹æŠŠæ‰‹æ•™ä½ é…ç½®å„ç§ AI ç¼–ç¨‹æ–¹æ¡ˆï¼šCline + ç«å±±æ–¹èˆŸã€Ollama + Aider æœ¬åœ°éƒ¨ç½²ç­‰å®Œæ•´é…ç½®æ•™ç¨‹ã€‚"
>
  <section class="container py-12 max-w-3xl">
    <h1 class="text-3xl font-bold text-white mb-4">ğŸ“– ä½¿ç”¨æŒ‡å—</h1>
    <p class="text-[var(--text-secondary)] mb-8">æ‰‹æŠŠæ‰‹æ•™ä½ é…ç½®å„ç§ AI ç¼–ç¨‹æ–¹æ¡ˆã€‚</p>

    <div class="space-y-4">
      {guides.map(guide => (
        <a href={`/guides/${guide.slug}`} class="card p-6 block no-underline hover:border-[var(--brand-400)] transition-colors">
          <div class="flex flex-wrap gap-2 mb-2">
            {guide.data.tags?.slice(0, 3).map((tag: string) => (
              <span class="tag">{tag}</span>
            ))}
          </div>
          <h2 class="text-lg font-semibold text-white mt-2 mb-1">{guide.data.title}</h2>
          <p class="text-sm text-[var(--text-muted)] m-0 mb-2">{guide.data.description}</p>
          <span class="text-xs text-[var(--text-muted)]">{guide.data.date}</span>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>
